<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="static/style/premium.css">
    <script src="static/js/script.js"></script>
    <title>PraxIQ</title>
</head>

<body>

    <div class="container">
        <div class="blok-conatiner">
            <div class="blok-top">
                <div class="logo-blok">

                    <div class="logo-praxiq">
                        <a href="index.html"><img class="logo-praxiq-1" src="static/images/PraxIQ.jpg" width="10.9%"
                                alt=""></a>
                    </div>
                </div>
                <div class="container-menu-blok">
                    <div class="conainer-menu">
                        <div class="menu-blok">
                            <ul>
                                <li><a href="index.html">Գլխավոր</a></li>
                                <li><a href="">Մասին</a></li>
                                <li><a href="">Առանձնահատկություներ</a></li>
                                <li><a href="">Գնագոյացում</a></li>
                                <li><a href="">Կարիերա</a></li>
                                <nav id="nav-container" class="nav-container">
                                    <button id="menu-toggle" class="menu-toggle-button">
                                        Ավելին
                                        <svg id="chevron-icon" class="chevron-icon" xmlns="http://www.w3.org/2000/svg"
                                            viewBox="0 0 20 20" fill="currentColor">
                                            <path fill-rule="evenodd"
                                                d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                                                clip-rule="evenodd" />
                                        </svg>
                                    </button>
                                    <div id="mega-menu" class="mega-menu">
                                        <div class="mega-menu-content">
                                            <div class="mega-menu-grid">
                                                <div class="menu-column">
                                                    <h3>Բազմատեղ</h3>
                                                    <ul>
                                                        <li><a href="#">Գլխավոր Էջ V1</a></li>
                                                        <li><a href="#">Գլխավոր Էջ V2</a></li>
                                                        <li><a href="#">Գլխավոր Էջ V3</a></li>
                                                        <li><a href="#">V1-ի Մասին</a></li>
                                                        <li><a href="#">V2-ի Մասին</a></li>
                                                        <li><a href="#">V3-ի Մասին</a></li>
                                                    </ul>
                                                </div>
                                                <div class="menu-column">
                                                    <h3>Բաժին</h3>
                                                    <ul>
                                                        <li><a href="#">Հատկանիշներ V1</a></li>
                                                        <li><a href="#">Հատկանիշներ V2</a></li>
                                                        <li><a href="#">Հատկանիշներ V3</a></li>
                                                        <li><a href="#">Կապ</a></li>
                                                    </ul>
                                                </div>
                                                <div class="menu-column">
                                                    <h3>Գլխավոր Էջեր</h3>
                                                    <ul>
                                                        <li><a href="#">Գնացուցակ</a></li>
                                                        <li><a href="#">Ինտեգրացիաներ</a></li>
                                                        <li><a href="#">Կարիերա</a></li>
                                                        <li><a href="#">Թիմ</a></li>
                                                        <li><a href="#">Բլոգ</a></li>
                                                    </ul>
                                                </div>
                                                <div class="menu-column">
                                                    <h3>Կոմունալ Ծառայությունների Էջեր</h3>
                                                    <ul>
                                                        <li><a href="#">Մուտք Գործել</a></li>
                                                        <li><a href="#">Գրանցվել</a></li>
                                                        <li><a href="#">Գաղտնաբառի <br>Վերականգնում</a></li>
                                                        <li><a href="#">Ծառայության <br>Պայմաններ</a></li>
                                                        <li><a href="#">Գաղտնիության <br>Քաղաքականություն</a></li>
                                                    </ul>
                                                </div>
                                                <div class="menu-column">
                                                    <h3>CMS Էջեր</h3>
                                                    <ul>
                                                        <li><a href="#">Բլոգի <br>Մանրամասները</a></li>
                                                        <li><a href="#">Հեղինակի <br>Մանրամասները</a></li>
                                                        <li><a href="#">Կատեգորիայի<br> Մանրամասները</a></li>
                                                        <li><a href="#">Կարիերայի <br>Մանրամասները</a></li>
                                                        <li><a href="#">Ապրանքի <br>Մանրամասները</a></li>
                                                    </ul>
                                                </div>
                                                <div class="menu-column">
                                                    <h3>Այլ Էջեր</h3>
                                                    <ul>
                                                        <li><a href="#">Շուտով</a></li>
                                                        <li><a href="#">Հաճախակի Տրվող <br>Հարցեր</a></li>
                                                        <li><a href="#">Հաճախորդների <br>Կարծիքներ</a></li>
                                                        <li><a href="#">Գիրքի <br>Ոճը</a></li>
                                                        <li><a href="#">Փոփոխությունների <br>Գրանցամատյան</a></li>
                                                        <li><a href="#">Լիցենզավորում</a></li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <main>
                                        <div class="menu-container">
                                            <div class="menu-bar">
                                                <a id="cartTrigger">
                                                    <li class="menu-bascket">Զամբյուղ(0)</li>
                                                    <img id="cartImage" class="img-shopping"
                                                        src="static/images/shoping.jpg" width="10%" alt="">
                                                </a>
                                            </div>

                                            <div id="cartPanel" class="cart-panel">
                                                <div class="cart-header">
                                                    <h2>Ձեր Զամբյուղը</h2>
                                                    <button id="closeCart">&times;</button>
                                                </div>
                                                <div id="cartItems">Ոչ մի տարր չի գտնվել։</div>
                                                <div id="cartTotal" class="cart-total">Ընդամենը- $0</div>
                                                <button id="checkoutButton" class="checkout-btn">Վճարել</button>

                                            </div>

                                            <div id="cartOverlay" class="cart-overlay"></div>

                                            <div id="overlay" class="overlay"></div>
                                            <div class="button-container animated-gradient-border">
                                                <a href="pricing.html"><button class="start-button">
                                                        <span>Սկսել</span>
                                                    </button></a>
                                            </div>
                                        </div>
                                    </main>
                                </nav>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="container-text-menu">
                    <div class="blok-text">
                        <div class="menu-text">
                            <p class="text"><span class="color">Մասնագիտական</span></p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="blok-conatiner-starter">
                <div class="blok-starter">
                    <div class="blok-starter-text">
                        <p class="starter-text">Իդեալական է փոքր բիզնեսների համար, որոնք ցանկանում են հաստատել առցանց
                            ներկայություն։</p>
                        <p class="features-title">Հիմնական առանձնահատկություններ՝</p>

                        <ul class="features">
                            <li class="feature-item">
                                <img src="static/images/683d438cb5f7527c29150869_Ellipse 5 (2).png" alt="">
                                <span>Վերլուծություն և հաշվետվություն</span>
                            </li>
                            <li class="feature-item">
                                <img src="static/images/683d438cb5f7527c29150869_Ellipse 5 (2).png" alt="">
                                <span>Լրիվ GPT 3.0 մուտք</span>
                            </li>
                            <li class="feature-item">
                                <img src="static/images/683d438cb5f7527c29150869_Ellipse 5 (2).png" alt="">
                                <span>Կառավարեք մինչև 2000 կոնտակտ</span>
                            </li>
                            <li class="feature-item">
                                <img src="static/images/683d438cb5f7527c29150869_Ellipse 5 (2).png" alt="">
                                <span>Նախագծերի կառավարում</span>
                            </li>
                            <li class="feature-item">
                                <img src="static/images/683d438cb5f7527c29150869_Ellipse 5 (2).png" alt="">
                                <span>Ուղարկեք մինչև 10,000 էլ.փոստ</span>
                            </li>
                        </ul>
                    </div>
                    <div class="container2">
                        <select id="folderSelect">
                            <option value="" selected disabled>Ընտրեք պլանը</option>
                            <option value="monthly">Ամսական</option>
                            <option value="yearly">Տարեկան</option>
                        </select>

                        <button id="addButton">Ավելացնել Զամբյուղում</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>

</html>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const menuToggle = document.getElementById('menu-toggle');
        const megaMenu = document.getElementById('mega-menu');
        const chevronIcon = document.getElementById('chevron-icon');
        const navContainer = document.getElementById('nav-container');

        // Dropdown
        const toggleMenu = () => {
            megaMenu.classList.toggle('is-open');
            chevronIcon.classList.toggle('is-open');
        };
        menuToggle.addEventListener('click', (event) => { event.stopPropagation(); toggleMenu(); });
        document.addEventListener('click', (event) => {
            if (megaMenu.classList.contains('is-open') && !navContainer.contains(event.target)) {
                megaMenu.classList.remove('is-open'); chevronIcon.classList.remove('is-open');
            }
        });

        // Cart
        const cartSidebar = document.getElementById('cartPanel');
        const closeCart = document.getElementById('closeCart');
        const overlay = document.getElementById('overlay');
        const cartTrigger = document.getElementById('cartTrigger');
        const cartImage = document.getElementById('cartImage');

        const openCart = () => { cartSidebar.classList.add('active'); overlay.classList.add('active'); };
        const closeCartPanel = () => { cartSidebar.classList.remove('active'); overlay.classList.remove('active'); };

        cartTrigger.addEventListener('click', (e) => { e.preventDefault(); openCart(); });
        cartImage.addEventListener('click', (e) => { e.preventDefault(); openCart(); });
        closeCart.addEventListener('click', closeCartPanel);
        overlay.addEventListener('click', closeCartPanel);

        // Cart JS
        const addButton = document.getElementById('addButton');
        const select = document.getElementById('folderSelect');
        const cartItems = document.getElementById('cartItems');
        const basketText = document.querySelector('.menu-bascket');
        const cartTotal = document.getElementById('cartTotal');
        const checkoutButton = document.getElementById('checkoutButton');

        // Define current plan from page (example: could set in HTML body or JS variable)
        const currentPlan = document.body.dataset.plan || "premium";
        // body tag in HTML: <body data-plan="premium"> or "starter"/"professional"

        const cartKey = currentPlan + "-cart";
        let cart = JSON.parse(localStorage.getItem(cartKey)) || [];

        function renderCart() {
            cartItems.innerHTML = "";
            if (cart.length === 0) {
                cartItems.textContent = "Ոչ մի տարր չի գտնվել։";
                basketText.textContent = `Զամբյուղ(0)`;
                cartTotal.textContent = `Ընդամենը՝ 0 ֏`;
                return;
            }

            let totalPrice = 0;
            cart.forEach((item, index) => {
                const div = document.createElement('div');
                div.classList.add('cart-item');
                div.innerHTML = `
            <div class="cart-info">
                <div class="cart-name">${item.name}</div>
                <div class="cart-plan">${item.plan}</div>
                <div class="cart-price">${item.price * item.qty} ֏</div>
            </div>
            <div class="qty-controls">
                <button class="qty-btn minus">-</button>
                <div class="qty-number">${item.qty}</div>
                <button class="qty-btn plus">+</button>
            </div>
            <button class="remove-btn">&times;</button>
        `;

                div.querySelector('.plus').addEventListener('click', () => { item.qty++; saveCart(); renderCart(); });
                div.querySelector('.minus').addEventListener('click', () => { if (item.qty > 1) item.qty--; else cart.splice(index, 1); saveCart(); renderCart(); });
                div.querySelector('.remove-btn').addEventListener('click', () => { cart.splice(index, 1); saveCart(); renderCart(); });

                cartItems.appendChild(div);
                totalPrice += item.price * item.qty;
            });

            basketText.textContent = `Զամբյուղ(${cart.length})`;
            cartTotal.textContent = `Ընդամենը՝ ${totalPrice} ֏`;
        }

        function saveCart() { localStorage.setItem(cartKey, JSON.stringify(cart)); }

        addButton.addEventListener('click', () => {
            const selected = select.value;
            if (!selected) return alert("Ընտրեք պլանը");

            let price = 0;
            let name = "";
            switch (currentPlan) {
                case "starter": name = "Սկզբնական փաթեթ"; price = selected === "monthly" ? 5000 : 60000; break;
                case "professional": name = "Մասնագիտական փաթեթ"; price = selected === "monthly" ? 8000 : 96000; break;
                case "premium": name = "Պրեմիում փաթեթ"; price = selected === "monthly" ? 12000 : 144000; break;
            }

            let item = {
                name: name,
                plan: selected === "monthly" ? "Ամսական" : "Տարեկան",
                price: price,
                qty: 1
            };

            let existing = cart.find(x => x.plan === item.plan);
            if (existing) existing.qty++; else cart.push(item);

            saveCart();
            renderCart();
        });

        checkoutButton.addEventListener('click', () => {
            if (cart.length === 0) { alert("Ձեր զամբյուղը դատարկ է"); return; }
            const total = cart.reduce((sum, item) => sum + item.price * item.qty, 0);
            alert(`Ընդամենը վճար՝ ${total} ֏`);
        });

        renderCart();
    });
</script>